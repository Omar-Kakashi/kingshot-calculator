<div class="calculator-card">
    <div class="calculator-header">
        <h2><span class="header-icon">âœ¨</span> Governor Charms</h2>
        <p class="description">Calculate charm guides and designs needed for Protection, Keenness, and Fusion charm upgrades with 2025 verified data</p>
    </div>

    <div class="calculator-form">
        <div class="form-row">
            <div class="form-group">
                <label for="charmType">Charm Type</label>
                <select id="charmType" required>
                    <option value="protection">Protection Charm</option>
                    <option value="keenness">Keenness Charm</option>
                    <option value="fusion">Fusion Charm</option>
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="currentCharm">Current Charm Level</label>
                <input type="number" id="currentCharm" min="0" max="22" value="0" required>
                <small>2025 verified data (Levels 1-22)</small>
            </div>
            <div class="form-group">
                <label for="targetCharm">Target Charm Level</label>
                <input type="number" id="targetCharm" min="0" max="22" value="10" required>
                <small>For levels 15-22, refer to kingshot.net</small>
            </div>
        </div>

        <div class="button-group">
            <button id="calculateCharm" class="btn btn-primary">Calculate</button>
            <button id="saveCharm" class="btn btn-success">Save Results</button>
        </div>
    </div>

    <!-- Results Section -->
    <div id="charmResults" class="results-section hidden">
        <h3>ðŸ“Š Results</h3>
        
        <div class="results-grid">
            <div class="result-card">
                <div class="result-label">Charm Guides Needed</div>
                <div id="totalGuides" class="result-value">0</div>
            </div>
            <div class="result-card">
                <div class="result-label">Charm Designs Needed</div>
                <div id="totalDesigns" class="result-value">0</div>
            </div>
            <div class="result-card">
                <div class="result-label">Total Stat Boost</div>
                <div id="statBoost" class="result-value">0%</div>
            </div>
        </div>

        <!-- Breakdown Table -->
        <div class="breakdown-section">
            <h4>Level Breakdown</h4>
            <div class="table-responsive">
                <table id="charmBreakdown" class="breakdown-table">
                    <thead>
                        <tr>
                            <th>Level</th>
                            <th>Guides Required</th>
                            <th>Designs Required</th>
                            <th>Stat Boost</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="tips-section">
            <h4>ðŸ’¡ Best Value Thresholds</h4>
            <ul id="charmTips">
                <!-- Populated by JavaScript -->
            </ul>
        </div>

        <div class="tips-section">
            <h4>ðŸ“ˆ Charm Stat Bonuses</h4>
            <div class="stat-info">
                <div class="tip-card">
                    <strong>Protection Charm:</strong> Governor DEF +%, Troop DEF +%, HP +%
                </div>
                <div class="tip-card">
                    <strong>Keenness Charm:</strong> Governor ATK +%, Troop ATK +%, DMG +%
                </div>
                <div class="tip-card">
                    <strong>Fusion Charm:</strong> Balanced mix of ATK/DEF, Special ability bonuses
                </div>
                <div class="tip-card">
                    <strong>Level Milestones:</strong> Every 5 levels unlock special passive skills
                </div>
            </div>
        </div>

        <button id="exportCharm" class="btn btn-secondary">Export Results</button>
    </div>
</div>
