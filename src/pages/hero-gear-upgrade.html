<div class="calculator-card">
    <div class="calculator-header">
        <h2><span class="header-icon">âš”ï¸</span> Hero Gear Stat Progression</h2>
        <p class="description">Calculate stat increases for hero gear from Level 0-200 (Gold & Red gear) with 2025 community data</p>
    </div>

    <div class="calculator-form">
        <div class="form-row">
            <div class="form-group">
                <label for="troopType">Troop Type</label>
                <select id="troopType" required>
                    <option value="infantry">ğŸ›¡ï¸ Infantry</option>
                    <option value="archer">ğŸ¹ Archer</option>
                    <option value="cavalry">ğŸ Cavalry</option>
                </select>
            </div>
            <div class="form-group">
                <label for="gearType">Gear Piece</label>
                <select id="gearType" required>
                    <option value="helmet">â›‘ï¸ Helmet</option>
                    <option value="chest">ğŸ¦º Chest</option>
                    <option value="gloves">ğŸ§¤ Gloves</option>
                    <option value="boots">ğŸ‘¢ Boots</option>
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="currentGearLevel">Current Level</label>
                <input type="number" id="currentGearLevel" min="0" max="200" value="0" required>
                <small>Levels 0-100: Gold Gear | Levels 101-200: Red Gear</small>
            </div>
            <div class="form-group">
                <label for="targetGearLevel">Target Level</label>
                <input type="number" id="targetGearLevel" min="0" max="200" value="100" required>
                <small>Red imbuements occur at levels 120, 140, 160, 180, 200</small>
            </div>
        </div>

        <div class="button-group">
            <button id="calculateHeroGear" class="btn btn-primary">Calculate Stats</button>
            <button id="exportHeroGearCSV" class="btn btn-secondary">Export CSV</button>
        </div>
    </div>

    <div id="heroGearResults" class="results-section hidden">
        <h3>ğŸ“Š Stat Increases</h3>
        
        <!-- Gold Gear Stats Summary -->
        <div id="goldStatsContainer" class="results-section" style="display: none;">
            <h4>ğŸŒŸ Gold Gear Stats (Linear Progression)</h4>
            <div class="results-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                <!-- Populated by JavaScript -->
            </div>
        </div>

        <!-- Red Gear Imbuements -->
        <div id="redImbuementsContainer" class="results-section" style="display: none; margin-top: 20px;">
            <h4>ğŸ”´ Red Gear Imbuements (Milestones)</h4>
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <!-- Populated by JavaScript -->
            </div>
        </div>

        <!-- Detailed Breakdown -->
        <div class="breakdown-section" style="margin-top: 30px;">
            <h4>Level-by-Level Breakdown</h4>
            <div class="table-responsive">
                <table id="heroGearBreakdown" class="breakdown-table">
                    <thead>
                        <tr>
                            <th>Level</th>
                            <th>Phase</th>
                            <th>Stats</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Info Section -->
    <div class="info-section" style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
        <h4>ğŸ“– Hero Gear Progression Guide</h4>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px;">
            <div>
                <strong>ğŸŒŸ Gold Gear (Levels 0-100)</strong>
                <p style="font-size: 14px; color: #666; margin-top: 5px;">Linear stat increases per level. Expedition stats (Lethality/Health) increase by 0.35% per level. Conquest stats (Hero/Escort) increase by fixed amounts per level based on troop type.</p>
            </div>
            <div>
                <strong>ğŸ”´ Red Gear (Levels 101-200)</strong>
                <p style="font-size: 14px; color: #666; margin-top: 5px;">Imbuement milestones at +20 intervals (120, 140, 160, 180, 200). Large percentage boosts alternating between Expedition (troop buffs) and Conquest (hero buffs).</p>
            </div>
            <div>
                <strong>âš”ï¸ Troop Types</strong>
                <p style="font-size: 14px; color: #666; margin-top: 5px;">Infantry: Balanced stats. Archer: Higher attack, lower health. Cavalry: Higher health, moderate attack. Each has unique stat growth rates.</p>
            </div>
        </div>
    </div>
</div>
